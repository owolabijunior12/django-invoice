{% extends 'partials/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block main %}

  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Company Settings</h1>
  </div>

  <div class="container">
    <div class="card shadow-sm">
      <div class="card-body">

        <div class="row">
          <!-- Company Info -->
          <div class="col-lg-6">
            <h5 class="card-title"><strong>Company Name:</strong> {{ company.companyName }}</h5>
            <hr>
            <p class="card-text"><strong>Address:</strong> {{ company.addressLine1 }}</p>
            <p class="card-text"><strong>State/Province:</strong> {{ company.state_or_province }}</p>
            <p class="card-text"><strong>Country:</strong> {{ company.country }}</p>
            <p class="card-text"><strong>Postal Code:</strong> {{ company.postalCode }}</p>
            <br>
            <p class="card-text"><strong>Phone Number:</strong> {{ company.phoneNumber }}</p>
            <p class="card-text"><strong>Email:</strong> {{ company.emailAddress }}</p>
            <br>
            <p class="card-text"><strong>Tax Number:</strong> {{ company.taxNumber }}</p>
          </div>

          <!-- Company Logo -->
          <div class="col-lg-5">
            {% if company.companyLogo %}
              <div class="p-3">
                <img class="img-fluid rounded shadow" src="{{ company.companyLogo.url }}" alt="{{ company.companyName }}">
              </div>
            {% else %}
              <div class="p-3">
                <img class="img-fluid" src="{% static 'assets/img/empty.svg' %}" alt="No Logo">
              </div>
            {% endif %}
          </div>
        </div>

        <hr>

        <!-- Bank Details Section -->
        <h5 class="mt-4">Bank Details</h5>
        {% if company.bank_details.all %}
          <div class="table-responsive">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Currency</th>
                  <th>Bank Name</th>
                  <th>Account Name</th>
                  <th>Account Number</th>
                  <th>Swift Code</th>
                </tr>
              </thead>
              <tbody>
                {% for bank in company.bank_details.all %}
                <tr>
                  <td>{{ bank.currency }}</td>
                  <td>{{ bank.bank_name }}</td>
                  <td>{{ bank.account_name }}</td>
                  <td>{{ bank.account_number }}</td>
                  <td>{{ bank.swift_code }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% else %}
          <p class="text-muted">No bank details available. Please add one in the admin panel.</p>
        {% endif %}

      </div>
    </div>
  </div>

{% endblock %}
